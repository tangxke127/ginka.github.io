<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="Chokidar   Minimal and efficient cross-platform file watching library   Why?Node.js fs.watch:  Doesn’t report filenames on MacOS. Doesn’t report events at all when using editors like Sublime on MacOS.">
<meta property="og:type" content="article">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/2024/03/01/node_modules/chokidar/README/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="Chokidar   Minimal and efficient cross-platform file watching library   Why?Node.js fs.watch:  Doesn’t report filenames on MacOS. Doesn’t report events at all when using editors like Sublime on MacOS.">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://img.shields.io/npm/dw/chokidar.svg">
<meta property="og:image" content="https://img.shields.io/npm/dy/chokidar.svg">
<meta property="og:image" content="https://nodei.co/npm/chokidar.png">
<meta property="article:published_time" content="2024-03-01T15:18:14.529Z">
<meta property="article:modified_time" content="2024-03-01T15:18:14.548Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img.shields.io/npm/dw/chokidar.svg">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 7.1.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-node_modules/chokidar/README" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/03/01/node_modules/chokidar/README/" class="article-date">
  <time class="dt-published" datetime="2024-03-01T15:18:14.529Z" itemprop="datePublished">2024-03-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Chokidar"><a href="#Chokidar" class="headerlink" title="Chokidar  "></a>Chokidar <a target="_blank" rel="noopener" href="https://github.com/paulmillr/chokidar"><img src="https://img.shields.io/npm/dw/chokidar.svg" alt="Weekly downloads"></a> <a target="_blank" rel="noopener" href="https://github.com/paulmillr/chokidar"><img src="https://img.shields.io/npm/dy/chokidar.svg" alt="Yearly downloads"></a></h1><blockquote>
<p>Minimal and efficient cross-platform file watching library</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://www.npmjs.com/package/chokidar"><img src="https://nodei.co/npm/chokidar.png" alt="NPM"></a></p>
<h2 id="Why"><a href="#Why" class="headerlink" title="Why?"></a>Why?</h2><p>Node.js <code>fs.watch</code>:</p>
<ul>
<li>Doesn’t report filenames on MacOS.</li>
<li>Doesn’t report events at all when using editors like Sublime on MacOS.</li>
<li>Often reports events twice.</li>
<li>Emits most changes as <code>rename</code>.</li>
<li>Does not provide an easy way to recursively watch file trees.</li>
<li>Does not support recursive watching on Linux.</li>
</ul>
<p>Node.js <code>fs.watchFile</code>:</p>
<ul>
<li>Almost as bad at event handling.</li>
<li>Also does not provide any recursive watching.</li>
<li>Results in high CPU utilization.</li>
</ul>
<p>Chokidar resolves these problems.</p>
<p>Initially made for <strong><a target="_blank" rel="noopener" href="https://brunch.io/">Brunch</a></strong> (an ultra-swift web app build tool), it is now used in<br><a target="_blank" rel="noopener" href="https://github.com/microsoft/vscode">Microsoft’s Visual Studio Code</a>,<br><a target="_blank" rel="noopener" href="https://github.com/gulpjs/gulp/">gulp</a>,<br><a target="_blank" rel="noopener" href="https://karma-runner.github.io/">karma</a>,<br><a target="_blank" rel="noopener" href="https://github.com/Unitech/PM2">PM2</a>,<br><a target="_blank" rel="noopener" href="http://browserify.org/">browserify</a>,<br><a target="_blank" rel="noopener" href="https://webpack.github.io/">webpack</a>,<br><a target="_blank" rel="noopener" href="https://www.browsersync.io/">BrowserSync</a>,<br>and <a target="_blank" rel="noopener" href="https://www.npmjs.com/browse/depended/chokidar">many others</a>.<br>It has proven itself in production environments.</p>
<p>Version 3 is out! Check out our blog post about it: <a target="_blank" rel="noopener" href="https://paulmillr.com/posts/chokidar-3-save-32tb-of-traffic/">Chokidar 3: How to save 32TB of traffic every week</a></p>
<h2 id="How"><a href="#How" class="headerlink" title="How?"></a>How?</h2><p>Chokidar does still rely on the Node.js core <code>fs</code> module, but when using<br><code>fs.watch</code> and <code>fs.watchFile</code> for watching, it normalizes the events it<br>receives, often checking for truth by getting file stats and&#x2F;or dir contents.</p>
<p>On MacOS, chokidar by default uses a native extension exposing the Darwin<br><code>FSEvents</code> API. This provides very efficient recursive watching compared with<br>implementations like <code>kqueue</code> available on most *nix platforms. Chokidar still<br>does have to do some work to normalize the events received that way as well.</p>
<p>On most other platforms, the <code>fs.watch</code>-based implementation is the default, which<br>avoids polling and keeps CPU usage down. Be advised that chokidar will initiate<br>watchers recursively for everything within scope of the paths that have been<br>specified, so be judicious about not wasting system resources by watching much<br>more than needed.</p>
<h2 id="Getting-started"><a href="#Getting-started" class="headerlink" title="Getting started"></a>Getting started</h2><p>Install with npm:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install chokidar</span><br></pre></td></tr></table></figure>

<p>Then <code>require</code> and use it in your code:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> chokidar = <span class="built_in">require</span>(<span class="string">&#x27;chokidar&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// One-liner for current directory</span></span><br><span class="line">chokidar.<span class="title function_">watch</span>(<span class="string">&#x27;.&#x27;</span>).<span class="title function_">on</span>(<span class="string">&#x27;all&#x27;</span>, <span class="function">(<span class="params">event, path</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(event, path);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="API"><a href="#API" class="headerlink" title="API"></a>API</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Example of a more typical implementation structure</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Initialize watcher.</span></span><br><span class="line"><span class="keyword">const</span> watcher = chokidar.<span class="title function_">watch</span>(<span class="string">&#x27;file, dir, glob, or array&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">ignored</span>: <span class="regexp">/(^|[\/\\])\../</span>, <span class="comment">// ignore dotfiles</span></span><br><span class="line">  <span class="attr">persistent</span>: <span class="literal">true</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Something to use when events are received.</span></span><br><span class="line"><span class="keyword">const</span> log = <span class="variable language_">console</span>.<span class="property">log</span>.<span class="title function_">bind</span>(<span class="variable language_">console</span>);</span><br><span class="line"><span class="comment">// Add event listeners.</span></span><br><span class="line">watcher</span><br><span class="line">  .<span class="title function_">on</span>(<span class="string">&#x27;add&#x27;</span>, <span class="function"><span class="params">path</span> =&gt;</span> <span class="title function_">log</span>(<span class="string">`File <span class="subst">$&#123;path&#125;</span> has been added`</span>))</span><br><span class="line">  .<span class="title function_">on</span>(<span class="string">&#x27;change&#x27;</span>, <span class="function"><span class="params">path</span> =&gt;</span> <span class="title function_">log</span>(<span class="string">`File <span class="subst">$&#123;path&#125;</span> has been changed`</span>))</span><br><span class="line">  .<span class="title function_">on</span>(<span class="string">&#x27;unlink&#x27;</span>, <span class="function"><span class="params">path</span> =&gt;</span> <span class="title function_">log</span>(<span class="string">`File <span class="subst">$&#123;path&#125;</span> has been removed`</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// More possible events.</span></span><br><span class="line">watcher</span><br><span class="line">  .<span class="title function_">on</span>(<span class="string">&#x27;addDir&#x27;</span>, <span class="function"><span class="params">path</span> =&gt;</span> <span class="title function_">log</span>(<span class="string">`Directory <span class="subst">$&#123;path&#125;</span> has been added`</span>))</span><br><span class="line">  .<span class="title function_">on</span>(<span class="string">&#x27;unlinkDir&#x27;</span>, <span class="function"><span class="params">path</span> =&gt;</span> <span class="title function_">log</span>(<span class="string">`Directory <span class="subst">$&#123;path&#125;</span> has been removed`</span>))</span><br><span class="line">  .<span class="title function_">on</span>(<span class="string">&#x27;error&#x27;</span>, <span class="function"><span class="params">error</span> =&gt;</span> <span class="title function_">log</span>(<span class="string">`Watcher error: <span class="subst">$&#123;error&#125;</span>`</span>))</span><br><span class="line">  .<span class="title function_">on</span>(<span class="string">&#x27;ready&#x27;</span>, <span class="function">() =&gt;</span> <span class="title function_">log</span>(<span class="string">&#x27;Initial scan complete. Ready for changes&#x27;</span>))</span><br><span class="line">  .<span class="title function_">on</span>(<span class="string">&#x27;raw&#x27;</span>, <span class="function">(<span class="params">event, path, details</span>) =&gt;</span> &#123; <span class="comment">// internal</span></span><br><span class="line">    <span class="title function_">log</span>(<span class="string">&#x27;Raw event info:&#x27;</span>, event, path, details);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x27;add&#x27;, &#x27;addDir&#x27; and &#x27;change&#x27; events also receive stat() results as second</span></span><br><span class="line"><span class="comment">// argument when available: https://nodejs.org/api/fs.html#fs_class_fs_stats</span></span><br><span class="line">watcher.<span class="title function_">on</span>(<span class="string">&#x27;change&#x27;</span>, <span class="function">(<span class="params">path, stats</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (stats) <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`File <span class="subst">$&#123;path&#125;</span> changed size to <span class="subst">$&#123;stats.size&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Watch new files.</span></span><br><span class="line">watcher.<span class="title function_">add</span>(<span class="string">&#x27;new-file&#x27;</span>);</span><br><span class="line">watcher.<span class="title function_">add</span>([<span class="string">&#x27;new-file-2&#x27;</span>, <span class="string">&#x27;new-file-3&#x27;</span>, <span class="string">&#x27;**/other-file*&#x27;</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Get list of actual paths being watched on the filesystem</span></span><br><span class="line"><span class="keyword">var</span> watchedPaths = watcher.<span class="title function_">getWatched</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Un-watch some files.</span></span><br><span class="line"><span class="keyword">await</span> watcher.<span class="title function_">unwatch</span>(<span class="string">&#x27;new-file*&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Stop watching.</span></span><br><span class="line"><span class="comment">// The method is async!</span></span><br><span class="line">watcher.<span class="title function_">close</span>().<span class="title function_">then</span>(<span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;closed&#x27;</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// Full list of options. See below for descriptions.</span></span><br><span class="line"><span class="comment">// Do not use this example!</span></span><br><span class="line">chokidar.<span class="title function_">watch</span>(<span class="string">&#x27;file&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">persistent</span>: <span class="literal">true</span>,</span><br><span class="line"></span><br><span class="line">  <span class="attr">ignored</span>: <span class="string">&#x27;*.txt&#x27;</span>,</span><br><span class="line">  <span class="attr">ignoreInitial</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">followSymlinks</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">cwd</span>: <span class="string">&#x27;.&#x27;</span>,</span><br><span class="line">  <span class="attr">disableGlobbing</span>: <span class="literal">false</span>,</span><br><span class="line"></span><br><span class="line">  <span class="attr">usePolling</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">interval</span>: <span class="number">100</span>,</span><br><span class="line">  <span class="attr">binaryInterval</span>: <span class="number">300</span>,</span><br><span class="line">  <span class="attr">alwaysStat</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">depth</span>: <span class="number">99</span>,</span><br><span class="line">  <span class="attr">awaitWriteFinish</span>: &#123;</span><br><span class="line">    <span class="attr">stabilityThreshold</span>: <span class="number">2000</span>,</span><br><span class="line">    <span class="attr">pollInterval</span>: <span class="number">100</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="attr">ignorePermissionErrors</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">atomic</span>: <span class="literal">true</span> <span class="comment">// or a custom &#x27;atomicity delay&#x27;, in milliseconds (default 100)</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><code>chokidar.watch(paths, [options])</code></p>
<ul>
<li><code>paths</code> (string or array of strings). Paths to files, dirs to be watched<br>recursively, or glob patterns.<ul>
<li>Note: globs must not contain windows separators (<code>\</code>),<br>  because that’s how they work by the standard —<br>  you’ll need to replace them with forward slashes (<code>/</code>).</li>
<li>Note 2: for additional glob documentation, check out low-level<br>  library: <a target="_blank" rel="noopener" href="https://github.com/micromatch/picomatch">picomatch</a>.</li>
</ul>
</li>
<li><code>options</code> (object) Options object as defined below:</li>
</ul>
<h4 id="Persistence"><a href="#Persistence" class="headerlink" title="Persistence"></a>Persistence</h4><ul>
<li><code>persistent</code> (default: <code>true</code>). Indicates whether the process<br>should continue to run as long as files are being watched. If set to<br><code>false</code> when using <code>fsevents</code> to watch, no more events will be emitted<br>after <code>ready</code>, even if the process continues to run.</li>
</ul>
<h4 id="Path-filtering"><a href="#Path-filtering" class="headerlink" title="Path filtering"></a>Path filtering</h4><ul>
<li><code>ignored</code> (<a target="_blank" rel="noopener" href="https://github.com/es128/anymatch">anymatch</a>-compatible definition)<br>Defines files&#x2F;paths to be ignored. The whole relative or absolute path is<br>tested, not just filename. If a function with two arguments is provided, it<br>gets called twice per path - once with a single argument (the path), second<br>time with two arguments (the path and the<br><a target="_blank" rel="noopener" href="https://nodejs.org/api/fs.html#fs_class_fs_stats"><code>fs.Stats</code></a><br>object of that path).</li>
<li><code>ignoreInitial</code> (default: <code>false</code>). If set to <code>false</code> then <code>add</code>&#x2F;<code>addDir</code> events are also emitted for matching paths while<br>instantiating the watching as chokidar discovers these file paths (before the <code>ready</code> event).</li>
<li><code>followSymlinks</code> (default: <code>true</code>). When <code>false</code>, only the<br>symlinks themselves will be watched for changes instead of following<br>the link references and bubbling events through the link’s path.</li>
<li><code>cwd</code> (no default). The base directory from which watch <code>paths</code> are to be<br>derived. Paths emitted with events will be relative to this.</li>
<li><code>disableGlobbing</code> (default: <code>false</code>). If set to <code>true</code> then the strings passed to <code>.watch()</code> and <code>.add()</code> are treated as<br>literal path names, even if they look like globs.</li>
</ul>
<h4 id="Performance"><a href="#Performance" class="headerlink" title="Performance"></a>Performance</h4><ul>
<li><code>usePolling</code> (default: <code>false</code>).<br>Whether to use fs.watchFile (backed by polling), or fs.watch. If polling<br>leads to high CPU utilization, consider setting this to <code>false</code>. It is<br>typically necessary to <strong>set this to <code>true</code> to successfully watch files over<br>a network</strong>, and it may be necessary to successfully watch files in other<br>non-standard situations. Setting to <code>true</code> explicitly on MacOS overrides the<br><code>useFsEvents</code> default. You may also set the CHOKIDAR_USEPOLLING env variable<br>to true (1) or false (0) in order to override this option.</li>
<li><em>Polling-specific settings</em> (effective when <code>usePolling: true</code>)<ul>
<li><code>interval</code> (default: <code>100</code>). Interval of file system polling, in milliseconds. You may also<br>set the CHOKIDAR_INTERVAL env variable to override this option.</li>
<li><code>binaryInterval</code> (default: <code>300</code>). Interval of file system<br>polling for binary files.<br>(<a target="_blank" rel="noopener" href="https://github.com/sindresorhus/binary-extensions/blob/master/binary-extensions.json">see list of binary extensions</a>)</li>
</ul>
</li>
<li><code>useFsEvents</code> (default: <code>true</code> on MacOS). Whether to use the<br><code>fsevents</code> watching interface if available. When set to <code>true</code> explicitly<br>and <code>fsevents</code> is available this supercedes the <code>usePolling</code> setting. When<br>set to <code>false</code> on MacOS, <code>usePolling: true</code> becomes the default.</li>
<li><code>alwaysStat</code> (default: <code>false</code>). If relying upon the<br><a target="_blank" rel="noopener" href="https://nodejs.org/api/fs.html#fs_class_fs_stats"><code>fs.Stats</code></a><br>object that may get passed with <code>add</code>, <code>addDir</code>, and <code>change</code> events, set<br>this to <code>true</code> to ensure it is provided even in cases where it wasn’t<br>already available from the underlying watch events.</li>
<li><code>depth</code> (default: <code>undefined</code>). If set, limits how many levels of<br>subdirectories will be traversed.</li>
<li><code>awaitWriteFinish</code> (default: <code>false</code>).<br>By default, the <code>add</code> event will fire when a file first appears on disk, before<br>the entire file has been written. Furthermore, in some cases some <code>change</code><br>events will be emitted while the file is being written. In some cases,<br>especially when watching for large files there will be a need to wait for the<br>write operation to finish before responding to a file creation or modification.<br>Setting <code>awaitWriteFinish</code> to <code>true</code> (or a truthy value) will poll file size,<br>holding its <code>add</code> and <code>change</code> events until the size does not change for a<br>configurable amount of time. The appropriate duration setting is heavily<br>dependent on the OS and hardware. For accurate detection this parameter should<br>be relatively high, making file watching much less responsive.<br>Use with caution.<ul>
<li><em><code>options.awaitWriteFinish</code> can be set to an object in order to adjust<br>timing params:</em></li>
<li><code>awaitWriteFinish.stabilityThreshold</code> (default: 2000). Amount of time in<br>milliseconds for a file size to remain constant before emitting its event.</li>
<li><code>awaitWriteFinish.pollInterval</code> (default: 100). File size polling interval, in milliseconds.</li>
</ul>
</li>
</ul>
<h4 id="Errors"><a href="#Errors" class="headerlink" title="Errors"></a>Errors</h4><ul>
<li><code>ignorePermissionErrors</code> (default: <code>false</code>). Indicates whether to watch files<br>that don’t have read permissions if possible. If watching fails due to <code>EPERM</code><br>or <code>EACCES</code> with this set to <code>true</code>, the errors will be suppressed silently.</li>
<li><code>atomic</code> (default: <code>true</code> if <code>useFsEvents</code> and <code>usePolling</code> are <code>false</code>).<br>Automatically filters out artifacts that occur when using editors that use<br>“atomic writes” instead of writing directly to the source file. If a file is<br>re-added within 100 ms of being deleted, Chokidar emits a <code>change</code> event<br>rather than <code>unlink</code> then <code>add</code>. If the default of 100 ms does not work well<br>for you, you can override it by setting <code>atomic</code> to a custom value, in<br>milliseconds.</li>
</ul>
<h3 id="Methods-Events"><a href="#Methods-Events" class="headerlink" title="Methods &amp; Events"></a>Methods &amp; Events</h3><p><code>chokidar.watch()</code> produces an instance of <code>FSWatcher</code>. Methods of <code>FSWatcher</code>:</p>
<ul>
<li><code>.add(path / paths)</code>: Add files, directories, or glob patterns for tracking.<br>Takes an array of strings or just one string.</li>
<li><code>.on(event, callback)</code>: Listen for an FS event.<br>Available events: <code>add</code>, <code>addDir</code>, <code>change</code>, <code>unlink</code>, <code>unlinkDir</code>, <code>ready</code>,<br><code>raw</code>, <code>error</code>.<br>Additionally <code>all</code> is available which gets emitted with the underlying event<br>name and path for every event other than <code>ready</code>, <code>raw</code>, and <code>error</code>.  <code>raw</code> is internal, use it carefully.</li>
<li><code>.unwatch(path / paths)</code>: Stop watching files, directories, or glob patterns.<br>Takes an array of strings or just one string.</li>
<li><code>.close()</code>: <strong>async</strong> Removes all listeners from watched files. Asynchronous, returns Promise. Use with <code>await</code> to ensure bugs don’t happen.</li>
<li><code>.getWatched()</code>: Returns an object representing all the paths on the file<br>system being watched by this <code>FSWatcher</code> instance. The object’s keys are all the<br>directories (using absolute paths unless the <code>cwd</code> option was used), and the<br>values are arrays of the names of the items contained in each directory.</li>
</ul>
<h2 id="CLI"><a href="#CLI" class="headerlink" title="CLI"></a>CLI</h2><p>If you need a CLI interface for your file watching, check out<br><a target="_blank" rel="noopener" href="https://github.com/open-cli-tools/chokidar-cli">chokidar-cli</a>, allowing you to<br>execute a command on each change, or get a stdio stream of change events.</p>
<h2 id="Install-Troubleshooting"><a href="#Install-Troubleshooting" class="headerlink" title="Install Troubleshooting"></a>Install Troubleshooting</h2><ul>
<li><p><code>npm WARN optional dep failed, continuing fsevents@n.n.n</code></p>
<ul>
<li>This message is normal part of how <code>npm</code> handles optional dependencies and is<br>not indicative of a problem. Even if accompanied by other related error messages,<br>Chokidar should function properly.</li>
</ul>
</li>
<li><p><code>TypeError: fsevents is not a constructor</code></p>
<ul>
<li>Update chokidar by doing <code>rm -rf node_modules package-lock.json yarn.lock &amp;&amp; npm install</code>, or update your dependency that uses chokidar.</li>
</ul>
</li>
<li><p>Chokidar is producing <code>ENOSP</code> error on Linux, like this:</p>
<ul>
<li><code>bash: cannot set terminal process group (-1): Inappropriate ioctl for device bash: no job control in this shell</code><br><code>Error: watch /home/ ENOSPC</code></li>
<li>This means Chokidar ran out of file handles and you’ll need to increase their count by executing the following command in Terminal:<br><code>echo fs.inotify.max_user_watches=524288 | sudo tee -a /etc/sysctl.conf &amp;&amp; sudo sysctl -p</code></li>
</ul>
</li>
</ul>
<h2 id="Changelog"><a href="#Changelog" class="headerlink" title="Changelog"></a>Changelog</h2><p>For more detailed changelog, see <a href=".github/full_changelog.md"><code>full_changelog.md</code></a>.</p>
<ul>
<li><strong>v3.5 (Jan 6, 2021):</strong> Support for ARM Macs with Apple Silicon. Fixes for deleted symlinks.</li>
<li><strong>v3.4 (Apr 26, 2020):</strong> Support for directory-based symlinks. Fixes for macos file replacement.</li>
<li><strong>v3.3 (Nov 2, 2019):</strong> <code>FSWatcher#close()</code> method became async. That fixes IO race conditions related to close method.</li>
<li><strong>v3.2 (Oct 1, 2019):</strong> Improve Linux RAM usage by 50%. Race condition fixes. Windows glob fixes. Improve stability by using tight range of dependency versions.</li>
<li><strong>v3.1 (Sep 16, 2019):</strong> dotfiles are no longer filtered out by default. Use <code>ignored</code> option if needed. Improve initial Linux scan time by 50%.</li>
<li><strong>v3 (Apr 30, 2019):</strong> massive CPU &amp; RAM consumption improvements; reduces deps &#x2F; package size by a factor of 17x and bumps Node.js requirement to v8.16 and higher.</li>
<li><strong>v2 (Dec 29, 2017):</strong> Globs are now posix-style-only; without windows support. Tons of bugfixes.</li>
<li><strong>v1 (Apr 7, 2015):</strong> Glob support, symlink support, tons of bugfixes. Node 0.8+ is supported</li>
<li><strong>v0.1 (Apr 20, 2012):</strong> Initial release, extracted from <a target="_blank" rel="noopener" href="https://github.com/brunch/brunch/blob/9847a065aea300da99bd0753f90354cde9de1261/src/helpers.coffee#L66">Brunch</a></li>
</ul>
<h2 id="Also"><a href="#Also" class="headerlink" title="Also"></a>Also</h2><p>Why was chokidar named this way? What’s the meaning behind it?</p>
<blockquote>
<p>Chowkidar is a transliteration of a Hindi word meaning ‘watchman, gatekeeper’, चौकीदार. This ultimately comes from Sanskrit _ चतुष्क_ (crossway, quadrangle, consisting-of-four). This word is also used in other languages like Urdu as (چوکیدار) which is widely used in Pakistan and India. </p>
</blockquote>
<h2 id="License"><a href="#License" class="headerlink" title="License"></a>License</h2><p>MIT (c) Paul Miller (<a target="_blank" rel="noopener" href="https://paulmillr.com/">https://paulmillr.com</a>), see <a href="LICENSE">LICENSE</a> file.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/03/01/node_modules/chokidar/README/" data-id="clt8trqqd000v58s427hc32qm" data-title="" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2024/03/01/node_modules/deepmerge/changelog/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          (no title)
        
      </div>
    </a>
  
  
    <a href="/2024/03/01/node_modules/braces/lib/expand/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title"></div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">March 2024</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2024/03/01/package/">(no title)</a>
          </li>
        
          <li>
            <a href="/2024/03/01/package-lock/">(no title)</a>
          </li>
        
          <li>
            <a href="/2024/03/01/node_modules/highlight.js/VERSION_11_UPGRADE/">(no title)</a>
          </li>
        
          <li>
            <a href="/2024/03/01/node_modules/highlight.js/VERSION_10_UPGRADE/">(no title)</a>
          </li>
        
          <li>
            <a href="/2024/03/01/node_modules/highlight.js/SUPPORTED_LANGUAGES/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2024 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>